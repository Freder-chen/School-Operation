<!DOCTYPE html>
<html>
<head>
  <title>系统管理员-管理员中心</title>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  <link rel="stylesheet" type="text/css" href="../font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="../style/adminMain.css">
  <link rel="stylesheet" type="text/css" href="../style/adminReader.css">
  <script type="text/javascript" src="../script/jquery-2.1.4.min.js"></script>
  <script type="text/javascript">
     $(document).ready(function() {
          $(".left ul li:eq(8)").css("color","#FFF")
          $(".left ul li:eq(8)").css("background-color","#B78DE7")
          $(".left ul").find('li:eq(8)').children(".trig").css('display', 'block')
          $(".data input").attr('disabled', 'true')
          $(".inputBtn").click(function() {
             $(".data input").removeAttr('disabled')
          })

          $(".noadd_btn").click(function() {
            $(".data input").attr('disabled', 'true')
          })

          $.ajax({
            type: "POST",
            dataType: "json",
            url: "../get-self",
            data: {},
            success: function (result) {
              jdata = JSON.parse(JSON.stringify(result))
              $('#phone > input').val(jdata['phone'])
              $('#email > input').val(jdata['email'])
            },
            error: function() { alert("异常！") }
          })

          $(".add_btn").click(function() {
            var new_password = $("#new_password > input").val()
            var again_password = $("#again_password > input").val()
            if (new_password != again_password) {
              alert('请确认新密码一致！')
            } else {
              data = {
                'old_password': $("#old_password > input").val(),
                'phone': $("#phone > input").val(),
                'email': $("#email > input").val(),
              }
              if ($("#new_password > input").val() != "") {
                data['new_password'] = $("#new_password > input").val()
              }
              $.ajax({
                type: "POST",
                dataType: 'json',
                url: "../set-system-admin-self",
                data: data,
                success: function (result) {
                  jdata = JSON.parse(JSON.stringify(result))
                  alert(jdata['status'])
                },
                error: function() { alert("异常！") },
              })
            }
          })
     })
  </script>
</head>
<body>
   <div class="ad_page">
    <div class="header">
      <img src="../images/logo.png">
      <div class="state">
        <div class="ad_name"><div class="fa_i"><i class="fa fa-user"></i></div><a href="../html/adminPersonal.html">管理员01</a></div>
        <div class="out"><a href="../html/index.html">退出</a></div>
      </div>
      <div class="clear"></div>
    </div>
    <div class="content">
      <div class="left">
        <ul>
          <a href="../html/adminAddReader.html"><li>录入新读者<div class="trig"></div></li></a>
          <a href="../html/adminOutReader.html"><li>删除读者<div class="trig"></div></li></a>
          <a href="../html/adminAlterReader.html"><li>修改读者信息<div class="trig"></div></li></a>
          <a href="../html/adminAddAd.html"><li>录入图书管理员<div class="trig"></div></li></a>
          <a href="../html/adminOutAd.html"><li>删除图书管理员<div class="trig"></div></li></a>
          <a href="../html/adminAlterAd.html"><li>修改管理员信息<div class="trig"></div></li></a>
          <a href="../html/adminSearchReader.html"><li>查看读者信息<div class="trig"></div></li></a>
          <a href="../html/adminSearchAd.html"><li>查看管理员信息<div class="trig"></div></li></a>
          <a href="../html/adminPersonal.html"><li>管理员中心<div class="trig"></div></li></a>
        </ul>
      </div>
      <div class="right">
      <!-- class="ad_data"的div中是系统管理员系统的切换部分 -->
        <div class="ad_data">
          <input class="inputBtn" style="width:100px;height:34px;margin:0px 0px 20px 150px;font-size:16px"
          type="button" value="修改资料" />
         <div class="data data_1"><label style="color:red">原密码必填。不修改密码时，新密码、确认密码留空</label></div>
         <div id="old_password" class="data"><label>原密码</label><input type="password" /></div>
         <div id="new_password" class="data"><label>新密码</label><input type="password"/></div>
         <div id="again_password" class="data"><label>确认新密码</label><input type="password"/></div>
         <div id="phone" class="data"><label>电话</label><input value="18823456543" /></div>
         <div id="email" class="data"><label>邮箱</label><input type="email" value="18823456@qq.com"/></div>
         <div class="add_btn">提交修改</div>
          <div class="noadd_btn">取消</div>
        </div>
      </div>
      <div class="clear"></div>
    </div>
   </div>
</body>
</html>